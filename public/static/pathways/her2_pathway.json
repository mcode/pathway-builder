{
   "id": "tB4jsxTDL",
   "name": "Early Stage HER2+ (Draft)",
   "description": "Pathway for the Early Stage HER2+ Initial Medical Consult Breast Cancer Pathway. This is a draft pathway.",
   "library": [],
   "preconditions": [
     {
       "id": "1",
       "elementName": "Condition",
       "expected": "Breast Cancer",
       "cql": "exists(\"Primary Cancer Condition\" PrimaryCancer where PrimaryCancer.code.text.value ~ 'Malignant neoplasm of breast (disorder)')"
     },
     {
       "id": "2",
       "elementName": "HER2 Status",
       "expected": "Positive",
       "cql": "exists([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain\"] Her2 where Her2.value.text.value ~ 'Positive')"
     }
   ],
   "nodes": {
     "Start": {
       "key": "Start",
       "label": "Start",
       "transitions": [
         {
           "id": "1",
           "transition": "NodeStatus"
         }
       ],
       "type": "start"
     },
     "NodeStatus": {
       "key": "NodeStatus",
       "label": "Node Status",
       "transitions": [
         {
           "id": "1",
           "transition": "TumorSize",
           "condition": {
             "description": "N0",
             "cql": "TNM.N0"
           }
         },
         {
           "id": "2",
           "transition": "ChemotherapyTCHAC+TH",
           "condition": {
             "description": "N+",
             "cql": "TNM.N+"
           }
         }
       ],
       "type": "branch"
     },
     "TumorSize": {
       "key": "TumorSize",
       "label": "Tumor Size",
       "transitions": [
         {
           "id": "1",
           "transition": "ChemotherapyTCHAC+TH",
           "condition": {
             "description": "T > 2cm",
             "cql": "TNM.T > 2cm"
           }
         },
         {
           "id": "2",
           "transition": "ChemotherapyTHWeekly",
           "condition": {
             "description": "T <= 2cm",
             "cql": "TNM.T <= 2cm"
           }
         }
       ],
       "type": "branch"
     },
     "ChemotherapyTHWeekly": {
       "key": "ChemotherapyTHWeekly",
       "label": "Chemotherapy TH Weekly",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Chemotherapy TH Weekly",
           "resource": {
             "resourceType": "ServiceRequest",
             "code": {
               "coding": [
                 {
                   "system": "http://snomed.info/sct",
                   "code": "367336001",
                   "display": "Chemotherapy (procedure)"
                 }
               ],
               "text": "Chemotherapy (procedure)"
             }
           }
         },
       "transitions": [
         {
           "id": "1",
           "transition": "PostchemotherapyTrastuzumabRequest"
         }
       ],
       "type": "action",
       "cql": "exists([Procedure: \"Chemotherapy (procedure) code\"]) or exists([ServiceRequest: \"Chemotherapy (procedure) code\"])"
     },
     "ChemotherapyTCHAC+TH": {
       "key": "ChemotherapyTCHAC+TH",
       "label": "Chemotherapy TCH AC + TH",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Chemotherapy TCH AC + TH",
           "resource": {
             "resourceType": "ServiceRequest",
             "code": {
               "coding": [
                 {
                   "system": "http://snomed.info/sct",
                   "code": "367336001",
                   "display": "Chemotherapy (procedure)"
                 }
               ],
               "text": "Chemotherapy (procedure)"
             }
           }
         },
       "transitions": [
         {
           "id": "1",
           "transition": "PostchemotherapyTrastuzumabRequest"
         }
       ],
       "type": "action",
       "cql": "exists([Procedure: \"Chemotherapy (procedure) code\"]) or exists([ServiceRequest: \"Chemotherapy (procedure) code\"])"
     },
     "PostchemotherapyTrastuzumabRequest": {
       "key": "PostchemotherapyTrastuzumabRequest",
       "label": "Post-Chemotherapy Trastuzumab Request",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Post Chemotherapy Trastuzumab (1 year total duration recommended)",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1922509",
                   "display": "trastuzumab"
                 }
               ],
               "text": "trastuzumab"
             }
           }
         },
       "transitions": [
         {
           "id": "1",
           "transition": "ERStatus"
         }
       ],
       "type": "action",
       "cql": "exists([MedicationRequest: \"trastuzumab 150 MG Injection code\"])"
     },
     "ERStatus": {
       "key": "ERStatus",
       "label": "ER Status",
       "transitions": [
         {
           "id": "1",
           "transition": "EndocrineTherapy",
           "condition": {
             "description": "ERPositive",
             "cql": "Tumor_markers.ER Positive"
           }
         }
       ],
       "type": "branch"
     },
     "EndocrineTherapy": {
       "key": "EndocrineTherapy",
       "label": "Endocrine Therapy",
       "action": {
          "id": "1",
          "type": "create",
          "description": "Hormone Therapy",
          "resource": {
            "resourceType": "ServiceRequest",
            "code": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "169413002",
                  "display": "Hormone therapy (procedure)"
                }
              ],
              "text": "Hormone therapy (procedure)"
            }
          }
       },
       "transitions": [],
       "type": "action",
       "cql": "exists([Procedure: \"Hormone Therapy (procedure) code\"]) or exists([ServiceRequest: \"Hormone Therapy (procedure) code\"])"
     }
   }
 }
