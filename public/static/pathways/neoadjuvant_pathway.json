{
   "id": "eNPAgToBD",
   "name": "Breast Cancer: Neoadjuvant Chemotherapy with Surgery ",
   "description": "Pathway for the Early Stage HER2+ Breast Cancer Pathway for neoadjuvant chemotherapy with surgery.",
   "library": "neoadjuvant_pathway_library.cql",
   "preconditions": [
     {
       "id": "1",
       "elementName": "Condition",
       "expected": "Breast Cancer",
       "cql": "exists(\"Primary Cancer Condition\" PrimaryCancer where PrimaryCancer.code.text.value ~ 'Malignant neoplasm of breast (disorder)')"
     },
     {
       "id": "2",
       "elementName": "HER2 Status",
       "expected": "+",
       "cql": "exists([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain\"] Her2 where Her2.value.text.value ~ 'Positive')"
     }
   ],
   "nodes": {
     "Start": {
       "key": "Start",
       "label": "Start",
       "transitions": [
         {
           "id": "1",
           "transition": "TumorSize"
         }
       ]
     },
     "TumorSize": {
       "key": "TumorSize",
       "label": "Tumor Size",
       "transitions": [
         {
           "id": "1",
           "transition": "ChemotherapyTCHP",
           "condition": {
             "description": "T > 2",
             "cql": "T > 2"
           }
         },
         {
           "id": "2",
           "transition": "ChemotherapyACTHP",
           "condition": {
             "description": "T > 2",
             "cql": "T > 2"
           }
         },
         {
           "id": "3",
           "transition": "ChemotherapyddACTHP",
           "condition": {
             "description": "T > 2",
             "cql": "T > 2"
           }
         },
         {
           "id": "4",
           "transition": "NodeStatus",
           "condition": {
             "description": "T <= 2",
             "cql": "T <= 2"
           }
         }
       ]
     },
     "NodeStatus": {
       "key": "NodeStatus",
       "label": "Node Status",
       "transitions": [
         {
           "id": "1",
           "transition": "ChemotherapyTCHP",
           "condition": {
             "description": "N+",
             "cql": "N+"
           }
         },
         {
           "id": "2",
           "transition": "ChemotherapyACTHP",
           "condition": {
             "description": "N+",
             "cql": "N+"
           }
         },
         {
           "id": "3",
           "transition": "ChemotherapyddACTHP",
           "condition": {
             "description": "N+",
             "cql": "N+"
           }
         },
         {
           "id": "4",
           "transition": "Surgery1",
           "condition": {
             "description": "N0",
             "cql": "N0"
           }
         }
       ]
     },
     "Surgery1": {
       "key": "Surgery1",
       "label": "Surgery",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Cancer Related Surgery Procedure",
           "resource": {
             "resourceType": "ServiceRequest",
             "code": {
               "coding": [
                 {
                   "system": "http://snomed.info/sct",
                   "code": "392021009",
                   "display": "Lumpectomy of breast (procedure)"
                 }
               ],
               "text": "Lumpectomy of breast (procedure)"
             }
           }
         },
       "cql": "exists([Procedure: \"Lumpectomy of breast (procedure) code\"]) or exists([ServiceRequest: \"Lumpectomy of breast (procedure) code\"])",
       "transitions": [
         {
           "id": "1",
           "transition": "PaclitaxelTrastuzumab"
         }
       ]
     },
     "PaclitaxelTrastuzumab": {
       "key": "PaclitaxelTrastuzumab",
       "label": "Paclitaxel and Trastuzumab",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Paclitaxel request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "583214",
                   "display": "PACLitaxel"
                 }
               ],
               "text": "PACLitaxel"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"paclitaxel code\"])",
       "transitions": []
     },
     "ChemotherapyTCHP": {
       "key": "ChemotherapyTCHP",
       "label": "Chemotherapy TCHP",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Doxorubicin Medication request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1790099",
                   "display": "10 ML Doxorubicin Hydrochloride 2 MG/ML Injection"
                 }
               ],
               "text": "10 ML Doxorubicin Hydrochloride 2 MG/ML Injection"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"10 ML Doxorubicin Hydrochloride 2 MG/ML Injection code\"] MR where ToConcept(MR.medication as FHIR.CodeableConcept) ~ \"10 ML Doxorubicin Hydrochloride 2 MG/ML Injection\")",
       "transitions": [
         {
           "id": "1",
           "transition": "Surgery2"
         }
       ]
     },
     "ChemotherapyACTHP": {
       "key": "ChemotherapyACTHP",
       "label": "Chemotherapy ACTHP",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Cyclophosphamide Medication request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1734919",
                   "display": "Cyclophosphamide 1000 MG Injection"
                 }
               ],
               "text": "Cyclophosphamide 1000 MG Injection"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"Cyclophosphamide 1000 MG Injection code\"] MR where ToConcept(MR.medication as FHIR.CodeableConcept) ~ \"Cyclophosphamide 1000 MG Injection\")",
       "transitions": [
         {
           "id": "1",
           "transition": "Surgery2"
         }
       ]
     },
     "ChemotherapyddACTHP": {
       "key": "ChemotherapyddACTHP",
       "label": "Chemotherapy ddACTHP",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Pertuzumab Medication request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1298948",
                   "display": "14 ML pertuzumab 30 MG/ML Injection"
                 }
               ],
               "text": "14 ML pertuzumab 30 MG/ML Injection"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"14 ML pertuzumab 30 MG/ML Injection code\"] MR where ToConcept(MR.medication as FHIR.CodeableConcept) ~ \"14 ML pertuzumab 30 MG/ML Injection\")",
       "transitions": [
         {
           "id": "1",
           "transition": "Surgery2"
         }
       ]
     },
     "Surgery2": {
       "key": "Surgery2",
       "label": "Surgery",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Cancer Related Surgery Procedure",
           "resource": {
             "resourceType": "ServiceRequest",
             "code": {
               "coding": [
                 {
                   "system": "http://snomed.info/sct",
                   "code": "392021009",
                   "display": "Lumpectomy of breast (procedure)"
                 }
               ],
               "text": "Lumpectomy of breast (procedure)"
             }
           }
         },
       "cql": "exists([Procedure: \"Lumpectomy of breast (procedure) code\"]) or exists([ServiceRequest: \"Lumpectomy of breast (procedure) code\"])",
       "transitions": [
         {
           "id": "1",
           "transition": "PathologicalResponse"
         }
       ]
     },
     "PathologicalResponse": {
       "key": "PathologicalResponse",
       "label": "Pathological Response",
       "transitions": [
         {
           "id": "1",
           "transition": "NodeStatus2",
           "condition": {
             "description": "Complete",
             "cql": "exists([Observation \"Pathologic response code\"] Response where ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete\")"
           }
         },
         {
           "id": "2",
           "transition": "AdotrastuzumabEmtansine",
           "condition": {
             "description": "Partial/Stable/Progressive",
             "cql": "exists([Observation \"Pathologic response code\"] Response where ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\" or ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\" or ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\")"
           }
         }
       ]
     },
     "AdotrastuzumabEmtansine": {
       "key": "AdotrastuzumabEmtansine",
       "label": "Ado-trastuzumab Emtansine",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Ado-trastuzumab Emtansine Request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1658084",
                   "display": "ado-trastuzumab emtansine"
                 }
               ],
               "text": "ado-trastuzumab emtansine"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"adotrastuzumab emtansine code\"])",
       "transitions": []
     },
     "NodeStatus2": {
       "key": "NodeStatus2",
       "label": "Node Status Prior to Surgery",
       "transitions": [
         {
           "id": "1",
           "transition": "Trastuzumab",
           "condition": {
             "description": "N0",
             "cql": "N0"
           }
         },
         {
           "id": "2",
           "transition": "PertuzumabTrastuzumab",
           "condition": {
             "description": "N+",
             "cql": "N+"
           }
         }
       ]
     },
     "Trastuzumab": {
       "key": "Trastuzumab",
       "label": "Trastuzumab",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Trastuzumab request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1922509",
                   "display": "trastuzumab"
                 }
               ],
               "text": "trastuzumab"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"trastuzumab code\"])",
       "transitions": []
     },
     "PertuzumabTrastuzumab": {
       "key": "PertuzumabTrastuzumab",
       "label": "Pertuzumab and Trastuzumab",
       "action": {
           "id": "1",
           "type": "create",
           "description": "Pertuzumab request",
           "resource": {
             "resourceType": "MedicationRequest",
             "medicationCodeableConcept": {
               "coding": [
                 {
                   "system": "http://www.nlm.nih.gov/research/umls/rxnorm",
                   "code": "1298948",
                   "display": "pertuzumab"
                 }
               ],
               "text": "pertuzumab"
             }
           }
         },
       "cql": "exists([MedicationRequest: \"pertuzumab code\"])",
       "transitions": []
     }
   }
 }
