export const criteria = [
  {
    "id": "6kEvmHqwI",
    "label": "TNM: N0",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "N0",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "jibabfqxcr",
    "label": "TNM: N+",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "N+",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "5-x6glwrKS",
    "label": "TNM: T > 2cm",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "T > 2cm",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "WRtpajRr6i",
    "label": "TNM: T <= 2cm",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "T <= 2cm",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "ugJnv6U1Yg",
    "label": "TNM: T > 2",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "T > 2",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "XWEMXK-LTi",
    "label": "TNM: T <= 2",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "TNM",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Primary tumor.clinical [Class] Cancer code",
              "id": "21905-5",
              "display": "Primary tumor.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Regional lymph nodes.clinical [Class] Cancer code",
              "id": "21906-3",
              "display": "Regional lymph nodes.clinical [Class] Cancer",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T0 category (finding) code",
              "id": "58790005",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T1 category (finding) code",
              "id": "23351008",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T2 category (finding) code",
              "id": "67673008",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T3 category (finding) code",
              "id": "14410001",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "15",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "T4 category (finding) code",
              "id": "65565005",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "17",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N0 category (finding) code",
              "id": "62455006",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "19",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N1 category (finding) code",
              "id": "53623008",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "21",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "24",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N2 category (finding) code",
              "id": "46059003",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "23",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "26",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "N3 category (finding) code",
              "id": "5856006",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "25",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "28",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T0 category (finding)",
              "display": "T0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "27",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T0 category (finding) code"
                }
              ]
            },
            {
              "localId": "30",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T1 category (finding)",
              "display": "T1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "29",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T1 category (finding) code"
                }
              ]
            },
            {
              "localId": "32",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T2 category (finding)",
              "display": "T2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "31",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T2 category (finding) code"
                }
              ]
            },
            {
              "localId": "34",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T3 category (finding)",
              "display": "T3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "33",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T3 category (finding) code"
                }
              ]
            },
            {
              "localId": "36",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "T4 category (finding)",
              "display": "T4 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "35",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "T4 category (finding) code"
                }
              ]
            },
            {
              "localId": "38",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N0 category (finding)",
              "display": "N0 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "37",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N0 category (finding) code"
                }
              ]
            },
            {
              "localId": "40",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N1 category (finding)",
              "display": "N1 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "39",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N1 category (finding) code"
                }
              ]
            },
            {
              "localId": "42",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N2 category (finding)",
              "display": "N2 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "41",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N2 category (finding) code"
                }
              ]
            },
            {
              "localId": "44",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "N3 category (finding)",
              "display": "N3 category (finding)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "43",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "N3 category (finding) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "57",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N0",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "57",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N0\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "56",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "55",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "55",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "46",
                                        "s": [
                                          {
                                            "r": "45",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "N0"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "54",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "54",
                                        "s": [
                                          {
                                            "r": "52",
                                            "s": [
                                              {
                                                "r": "47",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "52",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "49",
                                                        "s": [
                                                          {
                                                            "r": "48",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "N0"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "49",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "50",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "53",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"N0 category (finding)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "56",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "55",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "46",
                      "alias": "N0",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "45",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "54",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "52",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "51",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "49",
                              "path": "value",
                              "scope": "N0",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "50",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "53",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "N0 category (finding)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "88",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "N+",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "88",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"N+\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "87",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "86",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "86",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "r": "58",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Regional lymph nodes.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "NLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "85",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "85",
                                        "s": [
                                          {
                                            "r": "76",
                                            "s": [
                                              {
                                                "r": "67",
                                                "s": [
                                                  {
                                                    "r": "65",
                                                    "s": [
                                                      {
                                                        "r": "60",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "65",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "64",
                                                            "s": [
                                                              {
                                                                "r": "62",
                                                                "s": [
                                                                  {
                                                                    "r": "61",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "62",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "63",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "66",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "75",
                                                "s": [
                                                  {
                                                    "r": "73",
                                                    "s": [
                                                      {
                                                        "r": "68",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "73",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "72",
                                                            "s": [
                                                              {
                                                                "r": "70",
                                                                "s": [
                                                                  {
                                                                    "r": "69",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "NLarge"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "70",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "71",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "74",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"N2 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "84",
                                            "s": [
                                              {
                                                "r": "82",
                                                "s": [
                                                  {
                                                    "r": "77",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "82",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "81",
                                                        "s": [
                                                          {
                                                            "r": "79",
                                                            "s": [
                                                              {
                                                                "r": "78",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "NLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "79",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "80",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "83",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"N3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "87",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "86",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "59",
                      "alias": "NLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "58",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Regional lymph nodes.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "85",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "76",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "67",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "65",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "64",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "62",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "63",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "66",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "75",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "73",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "72",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "70",
                                      "path": "value",
                                      "scope": "NLarge",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "71",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "74",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "N2 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "84",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "82",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "81",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "79",
                                  "path": "value",
                                  "scope": "NLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "80",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "83",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "N3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "110",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "110",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "109",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "108",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "108",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "90",
                                        "s": [
                                          {
                                            "r": "89",
                                            "s": [
                                              {
                                                "r": "89",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "107",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "107",
                                        "s": [
                                          {
                                            "r": "98",
                                            "s": [
                                              {
                                                "r": "96",
                                                "s": [
                                                  {
                                                    "r": "91",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "96",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "95",
                                                        "s": [
                                                          {
                                                            "r": "93",
                                                            "s": [
                                                              {
                                                                "r": "92",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "93",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "94",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "97",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "106",
                                            "s": [
                                              {
                                                "r": "104",
                                                "s": [
                                                  {
                                                    "r": "99",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "104",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "103",
                                                        "s": [
                                                          {
                                                            "r": "101",
                                                            "s": [
                                                              {
                                                                "r": "100",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "101",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "102",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "105",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "109",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "108",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "90",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "89",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "98",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "96",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "95",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "93",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "94",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "97",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "106",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "104",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "103",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "101",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "102",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "105",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "132",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2cm",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "132",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2cm\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "131",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "130",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "130",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "112",
                                        "s": [
                                          {
                                            "r": "111",
                                            "s": [
                                              {
                                                "r": "111",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "129",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "129",
                                        "s": [
                                          {
                                            "r": "120",
                                            "s": [
                                              {
                                                "r": "118",
                                                "s": [
                                                  {
                                                    "r": "113",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "118",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "117",
                                                        "s": [
                                                          {
                                                            "r": "115",
                                                            "s": [
                                                              {
                                                                "r": "114",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "115",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "116",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "119",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T0 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "128",
                                            "s": [
                                              {
                                                "r": "126",
                                                "s": [
                                                  {
                                                    "r": "121",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "126",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "125",
                                                        "s": [
                                                          {
                                                            "r": "123",
                                                            "s": [
                                                              {
                                                                "r": "122",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "123",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "124",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "127",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T1 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "131",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "130",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "112",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "111",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "129",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "120",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "118",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "117",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "115",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "116",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "119",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T0 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "128",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "126",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "125",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "123",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "124",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "127",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T1 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "154",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T > 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "154",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T > 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "153",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "152",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "152",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "134",
                                        "s": [
                                          {
                                            "r": "133",
                                            "s": [
                                              {
                                                "r": "133",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TLarge"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "151",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "151",
                                        "s": [
                                          {
                                            "r": "142",
                                            "s": [
                                              {
                                                "r": "140",
                                                "s": [
                                                  {
                                                    "r": "135",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "140",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "139",
                                                        "s": [
                                                          {
                                                            "r": "137",
                                                            "s": [
                                                              {
                                                                "r": "136",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "137",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "138",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "141",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T3 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "150",
                                            "s": [
                                              {
                                                "r": "148",
                                                "s": [
                                                  {
                                                    "r": "143",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "148",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "147",
                                                        "s": [
                                                          {
                                                            "r": "145",
                                                            "s": [
                                                              {
                                                                "r": "144",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TLarge"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "145",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "146",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "149",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T4 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "153",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "152",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "134",
                      "alias": "TLarge",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "133",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "151",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "142",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "140",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "139",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "137",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "138",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "141",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T3 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      },
                      {
                        "localId": "150",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "148",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "147",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "145",
                                  "path": "value",
                                  "scope": "TLarge",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "146",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "149",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T4 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "185",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "T <= 2",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "185",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"T <= 2\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "184",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "183",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "183",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "156",
                                        "s": [
                                          {
                                            "r": "155",
                                            "s": [
                                              {
                                                "r": "155",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Primary tumor.clinical [Class] Cancer code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "TSmall"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "182",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "182",
                                        "s": [
                                          {
                                            "r": "173",
                                            "s": [
                                              {
                                                "r": "164",
                                                "s": [
                                                  {
                                                    "r": "162",
                                                    "s": [
                                                      {
                                                        "r": "157",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "162",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "161",
                                                            "s": [
                                                              {
                                                                "r": "159",
                                                                "s": [
                                                                  {
                                                                    "r": "158",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "159",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "160",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "163",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T0 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "172",
                                                "s": [
                                                  {
                                                    "r": "170",
                                                    "s": [
                                                      {
                                                        "r": "165",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "170",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "169",
                                                            "s": [
                                                              {
                                                                "r": "167",
                                                                "s": [
                                                                  {
                                                                    "r": "166",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "TSmall"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "167",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "168",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "171",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"T1 category (finding)\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "181",
                                            "s": [
                                              {
                                                "r": "179",
                                                "s": [
                                                  {
                                                    "r": "174",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "179",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "178",
                                                        "s": [
                                                          {
                                                            "r": "176",
                                                            "s": [
                                                              {
                                                                "r": "175",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "TSmall"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "176",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "177",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "180",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"T2 category (finding)\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "184",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "183",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "156",
                      "alias": "TSmall",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "155",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Primary tumor.clinical [Class] Cancer code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "182",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "173",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "164",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "162",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "161",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "159",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "160",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "163",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T0 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "172",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "170",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "169",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "167",
                                      "path": "value",
                                      "scope": "TSmall",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "168",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "171",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "T1 category (finding)",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "181",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "179",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "178",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "176",
                                  "path": "value",
                                  "scope": "TSmall",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "177",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "180",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "T2 category (finding)",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
    "statement": "T <= 2",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "ezPjkGSdVn",
    "label": "Pathologic_Response: Complete",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Pathologic_Response",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Pathologic response code",
              "id": "88040-1",
              "display": "Pathologic response code",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Complete (qualifier value) code",
              "id": "255594003",
              "display": "Complete (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Partial (qualifier value) code",
              "id": "255609007",
              "display": "Partial (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Stable (qualifier value) code",
              "id": "58158008",
              "display": "Stable (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Progressive (qualifier value) code",
              "id": "255314001",
              "display": "Progressive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Complete (qualifier value)",
              "display": "Complete (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "15",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Complete (qualifier value) code"
                }
              ]
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Partial",
              "display": "Partial (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "17",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Partial (qualifier value) code"
                }
              ]
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Stable",
              "display": "Stable (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "19",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Stable (qualifier value) code"
                }
              ]
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Progressive",
              "display": "Progressive (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "21",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Progressive (qualifier value) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "35",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "Complete",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "35",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Complete\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "34",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "33",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "33",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "24",
                                        "s": [
                                          {
                                            "r": "23",
                                            "s": [
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Pathologic response code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "Response"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "32",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "32",
                                        "s": [
                                          {
                                            "r": "30",
                                            "s": [
                                              {
                                                "r": "25",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "30",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "29",
                                                    "s": [
                                                      {
                                                        "r": "27",
                                                        "s": [
                                                          {
                                                            "r": "26",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "Response"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "27",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "28",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "31",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"Complete (qualifier value)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "34",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "33",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "24",
                      "alias": "Response",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "23",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Pathologic response code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "32",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "30",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "29",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "27",
                              "path": "value",
                              "scope": "Response",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "28",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "31",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "Complete (qualifier value)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "Partial/Stable/Progressive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Partial/Stable/Progressive\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "64",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "37",
                                        "s": [
                                          {
                                            "r": "36",
                                            "s": [
                                              {
                                                "r": "36",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Pathologic response code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "Response"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "63",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "63",
                                        "s": [
                                          {
                                            "r": "54",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "r": "43",
                                                    "s": [
                                                      {
                                                        "r": "38",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "43",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "42",
                                                            "s": [
                                                              {
                                                                "r": "40",
                                                                "s": [
                                                                  {
                                                                    "r": "39",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "Response"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "40",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "41",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "44",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Partial\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "53",
                                                "s": [
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "46",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "51",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "50",
                                                            "s": [
                                                              {
                                                                "r": "48",
                                                                "s": [
                                                                  {
                                                                    "r": "47",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "Response"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "48",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "49",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "52",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Stable\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "62",
                                            "s": [
                                              {
                                                "r": "60",
                                                "s": [
                                                  {
                                                    "r": "55",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "60",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "59",
                                                        "s": [
                                                          {
                                                            "r": "57",
                                                            "s": [
                                                              {
                                                                "r": "56",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "Response"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "57",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "58",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "61",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"Progressive\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "64",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "37",
                      "alias": "Response",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "36",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Pathologic response code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "45",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "43",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "42",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "40",
                                      "path": "value",
                                      "scope": "Response",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "41",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "44",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "Partial",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "53",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "51",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "50",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "48",
                                      "path": "value",
                                      "scope": "Response",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "49",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "52",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "Stable",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "62",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "60",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "59",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "57",
                                  "path": "value",
                                  "scope": "Response",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "58",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "61",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "Progressive",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
    "statement": "Complete",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "KOkFFmGvTQ",
    "label": "Pathologic_Response: Partial/Stable/Progressive",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Pathologic_Response",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "SNOMEDCT",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Pathologic response code",
              "id": "88040-1",
              "display": "Pathologic response code",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Complete (qualifier value) code",
              "id": "255594003",
              "display": "Complete (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Partial (qualifier value) code",
              "id": "255609007",
              "display": "Partial (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Stable (qualifier value) code",
              "id": "58158008",
              "display": "Stable (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Progressive (qualifier value) code",
              "id": "255314001",
              "display": "Progressive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMEDCT",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "concepts": {
          "def": [
            {
              "localId": "16",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Complete (qualifier value)",
              "display": "Complete (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "15",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Complete (qualifier value) code"
                }
              ]
            },
            {
              "localId": "18",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Partial",
              "display": "Partial (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "17",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Partial (qualifier value) code"
                }
              ]
            },
            {
              "localId": "20",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Stable",
              "display": "Stable (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "19",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Stable (qualifier value) code"
                }
              ]
            },
            {
              "localId": "22",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "Progressive",
              "display": "Progressive (qualifier value)",
              "accessLevel": "Public",
              "code": [
                {
                  "localId": "21",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                  "name": "Progressive (qualifier value) code"
                }
              ]
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "35",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "Complete",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "35",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Complete\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "34",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "33",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "33",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "24",
                                        "s": [
                                          {
                                            "r": "23",
                                            "s": [
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Pathologic response code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "Response"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "32",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "32",
                                        "s": [
                                          {
                                            "r": "30",
                                            "s": [
                                              {
                                                "r": "25",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "FHIRHelpers"
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "."
                                                ]
                                              },
                                              {
                                                "r": "30",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ToConcept",
                                                      "("
                                                    ]
                                                  },
                                                  {
                                                    "r": "29",
                                                    "s": [
                                                      {
                                                        "r": "27",
                                                        "s": [
                                                          {
                                                            "r": "26",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "Response"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              "."
                                                            ]
                                                          },
                                                          {
                                                            "r": "27",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "value"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          " as "
                                                        ]
                                                      },
                                                      {
                                                        "r": "28",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIR",
                                                              ".",
                                                              "CodeableConcept"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      ")"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "~",
                                              " "
                                            ]
                                          },
                                          {
                                            "r": "31",
                                            "s": [
                                              {
                                                "value": [
                                                  "\"Complete (qualifier value)\""
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "34",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "33",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "24",
                      "alias": "Response",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "23",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Pathologic response code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "32",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Equivalent",
                    "operand": [
                      {
                        "localId": "30",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "ToConcept",
                        "libraryName": "FHIRHelpers",
                        "type": "FunctionRef",
                        "operand": [
                          {
                            "localId": "29",
                            "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                            "strict": false,
                            "type": "As",
                            "operand": {
                              "localId": "27",
                              "path": "value",
                              "scope": "Response",
                              "type": "Property",
                              "resultTypeSpecifier": {
                                "type": "ChoiceTypeSpecifier",
                                "choice": [
                                  {
                                    "name": "{http://hl7.org/fhir}Quantity",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}CodeableConcept",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}string",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}boolean",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}integer",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Range",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Ratio",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}SampledData",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}time",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}dateTime",
                                    "type": "NamedTypeSpecifier"
                                  },
                                  {
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                ]
                              }
                            },
                            "asTypeSpecifier": {
                              "localId": "28",
                              "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                              "name": "{http://hl7.org/fhir}CodeableConcept",
                              "type": "NamedTypeSpecifier"
                            }
                          }
                        ]
                      },
                      {
                        "localId": "31",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                        "name": "Complete (qualifier value)",
                        "type": "ConceptRef"
                      }
                    ]
                  }
                }
              }
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "Partial/Stable/Progressive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Partial/Stable/Progressive\"",
                          ":\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "value": [
                              "exists"
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "(\n    "
                                ]
                              },
                              {
                                "r": "64",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "37",
                                        "s": [
                                          {
                                            "r": "36",
                                            "s": [
                                              {
                                                "r": "36",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "[",
                                                      "Observation",
                                                      ": "
                                                    ]
                                                  },
                                                  {
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Pathologic response code\""
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "]"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "Response"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      "\n      "
                                    ]
                                  },
                                  {
                                    "r": "63",
                                    "s": [
                                      {
                                        "value": [
                                          "where "
                                        ]
                                      },
                                      {
                                        "r": "63",
                                        "s": [
                                          {
                                            "r": "54",
                                            "s": [
                                              {
                                                "r": "45",
                                                "s": [
                                                  {
                                                    "r": "43",
                                                    "s": [
                                                      {
                                                        "r": "38",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "43",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "42",
                                                            "s": [
                                                              {
                                                                "r": "40",
                                                                "s": [
                                                                  {
                                                                    "r": "39",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "Response"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "40",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "41",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "44",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Partial\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  "\n        or "
                                                ]
                                              },
                                              {
                                                "r": "53",
                                                "s": [
                                                  {
                                                    "r": "51",
                                                    "s": [
                                                      {
                                                        "r": "46",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "FHIRHelpers"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "51",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "ToConcept",
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "50",
                                                            "s": [
                                                              {
                                                                "r": "48",
                                                                "s": [
                                                                  {
                                                                    "r": "47",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "Response"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "value": [
                                                                      "."
                                                                    ]
                                                                  },
                                                                  {
                                                                    "r": "48",
                                                                    "s": [
                                                                      {
                                                                        "value": [
                                                                          "value"
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "49",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "CodeableConcept"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      " ",
                                                      "~",
                                                      " "
                                                    ]
                                                  },
                                                  {
                                                    "r": "52",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "\"Stable\""
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "\n        or "
                                            ]
                                          },
                                          {
                                            "r": "62",
                                            "s": [
                                              {
                                                "r": "60",
                                                "s": [
                                                  {
                                                    "r": "55",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "FHIRHelpers"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "60",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "ToConcept",
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "59",
                                                        "s": [
                                                          {
                                                            "r": "57",
                                                            "s": [
                                                              {
                                                                "r": "56",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "Response"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  "."
                                                                ]
                                                              },
                                                              {
                                                                "r": "57",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "value"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "58",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "CodeableConcept"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  " ",
                                                  "~",
                                                  " "
                                                ]
                                              },
                                              {
                                                "r": "61",
                                                "s": [
                                                  {
                                                    "value": [
                                                      "\"Progressive\""
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Exists",
                "operand": {
                  "localId": "64",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "37",
                      "alias": "Response",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "36",
                        "dataType": "{http://hl7.org/fhir}Observation",
                        "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty": "code",
                        "type": "Retrieve",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        },
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                            "name": "Pathologic response code",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Or",
                        "operand": [
                          {
                            "localId": "45",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "43",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "42",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "40",
                                      "path": "value",
                                      "scope": "Response",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "41",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "44",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "Partial",
                                "type": "ConceptRef"
                              }
                            ]
                          },
                          {
                            "localId": "53",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                            "type": "Equivalent",
                            "operand": [
                              {
                                "localId": "51",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "ToConcept",
                                "libraryName": "FHIRHelpers",
                                "type": "FunctionRef",
                                "operand": [
                                  {
                                    "localId": "50",
                                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                    "strict": false,
                                    "type": "As",
                                    "operand": {
                                      "localId": "48",
                                      "path": "value",
                                      "scope": "Response",
                                      "type": "Property",
                                      "resultTypeSpecifier": {
                                        "type": "ChoiceTypeSpecifier",
                                        "choice": [
                                          {
                                            "name": "{http://hl7.org/fhir}Quantity",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}CodeableConcept",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}string",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}boolean",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}integer",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Range",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Ratio",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}SampledData",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}time",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}dateTime",
                                            "type": "NamedTypeSpecifier"
                                          },
                                          {
                                            "name": "{http://hl7.org/fhir}Period",
                                            "type": "NamedTypeSpecifier"
                                          }
                                        ]
                                      }
                                    },
                                    "asTypeSpecifier": {
                                      "localId": "49",
                                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                      "name": "{http://hl7.org/fhir}CodeableConcept",
                                      "type": "NamedTypeSpecifier"
                                    }
                                  }
                                ]
                              },
                              {
                                "localId": "52",
                                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                                "name": "Stable",
                                "type": "ConceptRef"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "localId": "62",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                        "type": "Equivalent",
                        "operand": [
                          {
                            "localId": "60",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "ToConcept",
                            "libraryName": "FHIRHelpers",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "59",
                                "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "57",
                                  "path": "value",
                                  "scope": "Response",
                                  "type": "Property",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}Quantity",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}CodeableConcept",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}string",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}boolean",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}integer",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Range",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Ratio",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}SampledData",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}time",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "58",
                                  "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                                  "name": "{http://hl7.org/fhir}CodeableConcept",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "61",
                            "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                            "name": "Progressive",
                            "type": "ConceptRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
    "statement": "Partial/Stable/Progressive",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      },
      "Tumor_Markers": {
        "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "13_6s1RrEk",
    "label": "Tumor_Markers: ER Positive",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "ER Positive",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "6Qb7nyYgWd",
    "label": "Tumor_Markers: ER Negative",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "ER Negative",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "9IhHeFlYiA",
    "label": "Tumor_Markers: HER2 Positive",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "HER2 Positive",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "Q9Ud3-ccTS",
    "label": "Tumor_Markers: HER2 Negative",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "HER2 Negative",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "vB4xL9lTB2",
    "label": "Tumor_Markers: PR Positive",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "PR Positive",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  },
  {
    "id": "-VRCTZ9lsP",
    "label": "Tumor_Markers: PR Negative",
    "version": "1.0.0",
    "modified": 1606317604368,
    "elm": {
      "library": {
        "annotation": [
          {
            "translatorOptions": "EnableAnnotations,EnableResultTypes",
            "type": "CqlToElmInfo"
          }
        ],
        "identifier": {
          "id": "Tumor_Markers",
          "version": "1.0.0"
        },
        "schemaIdentifier": {
          "id": "urn:hl7-org:elm",
          "version": "r1"
        },
        "usings": {
          "def": [
            {
              "localIdentifier": "System",
              "uri": "urn:hl7-org:elm-types:r1"
            },
            {
              "localId": "1",
              "localIdentifier": "FHIR",
              "uri": "http://hl7.org/fhir",
              "version": "4.0.1"
            }
          ]
        },
        "includes": {
          "def": [
            {
              "localId": "2",
              "localIdentifier": "FHIRHelpers",
              "path": "FHIRHelpers",
              "version": "4.0.1"
            }
          ]
        },
        "codeSystems": {
          "def": [
            {
              "localId": "3",
              "name": "LOINC",
              "id": "http://loinc.org",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            },
            {
              "localId": "4",
              "name": "SNOMED",
              "id": "http://snomed.info/sct",
              "accessLevel": "Public",
              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",
                "elementType": {
                  "name": "{urn:hl7-org:elm-types:r1}Code",
                  "type": "NamedTypeSpecifier"
                }
              }
            }
          ]
        },
        "codes": {
          "def": [
            {
              "localId": "6",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85337-4 code",
              "id": "85337-4",
              "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "5",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "8",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
              "id": "85319-2",
              "display": "HER2 [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "7",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "10",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "85339-0 code",
              "id": "85339-0",
              "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "9",
                "name": "LOINC",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "12",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Positive (qualifier value) code",
              "id": "10828004",
              "display": "Positive (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "11",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            },
            {
              "localId": "14",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
              "name": "Negative (qualifier value) code",
              "id": "260385009",
              "display": "Negative (qualifier value)",
              "accessLevel": "Public",
              "codeSystem": {
                "localId": "13",
                "name": "SNOMED",
                "resultTypeSpecifier": {
                  "type": "ListTypeSpecifier",
                  "elementType": {
                    "name": "{urn:hl7-org:elm-types:r1}Code",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            }
          ]
        },
        "statements": {
          "def": [
            {
              "name": "Patient",
              "context": "Patient",
              "expression": {
                "type": "SingletonFrom",
                "operand": {
                  "dataType": "{http://hl7.org/fhir}Patient",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type": "Retrieve"
                }
              }
            },
            {
              "localId": "45",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "MostRecent",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "45",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "MostRecent",
                          "(",
                          "ObsList",
                          " "
                        ]
                      },
                      {
                        "r": "17",
                        "s": [
                          {
                            "value": [
                              "List<"
                            ]
                          },
                          {
                            "r": "16",
                            "s": [
                              {
                                "value": [
                                  "Observation"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ">"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "44",
                        "s": [
                          {
                            "r": "44",
                            "s": [
                              {
                                "value": [
                                  "Last",
                                  "("
                                ]
                              },
                              {
                                "r": "43",
                                "s": [
                                  {
                                    "s": [
                                      {
                                        "r": "19",
                                        "s": [
                                          {
                                            "r": "18",
                                            "s": [
                                              {
                                                "s": [
                                                  {
                                                    "value": [
                                                      "ObsList"
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              " ",
                                              "O"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      " "
                                    ]
                                  },
                                  {
                                    "r": "42",
                                    "s": [
                                      {
                                        "value": [
                                          "sort by "
                                        ]
                                      },
                                      {
                                        "r": "41",
                                        "s": [
                                          {
                                            "r": "40",
                                            "s": [
                                              {
                                                "value": [
                                                  "Coalesce",
                                                  "(\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "23",
                                                "s": [
                                                  {
                                                    "r": "22",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "22",
                                                        "s": [
                                                          {
                                                            "r": "20",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "21",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "dateTime"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "23",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "27",
                                                "s": [
                                                  {
                                                    "r": "26",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "("
                                                        ]
                                                      },
                                                      {
                                                        "r": "26",
                                                        "s": [
                                                          {
                                                            "r": "24",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "effective"
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              " as "
                                                            ]
                                                          },
                                                          {
                                                            "r": "25",
                                                            "s": [
                                                              {
                                                                "value": [
                                                                  "FHIR",
                                                                  ".",
                                                                  "instant"
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          ")"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "27",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "32",
                                                "s": [
                                                  {
                                                    "r": "31",
                                                    "s": [
                                                      {
                                                        "r": "30",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "30",
                                                            "s": [
                                                              {
                                                                "r": "28",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "29",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "31",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"end\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "32",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "37",
                                                "s": [
                                                  {
                                                    "r": "36",
                                                    "s": [
                                                      {
                                                        "r": "35",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "("
                                                            ]
                                                          },
                                                          {
                                                            "r": "35",
                                                            "s": [
                                                              {
                                                                "r": "33",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "effective"
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "value": [
                                                                  " as "
                                                                ]
                                                              },
                                                              {
                                                                "r": "34",
                                                                "s": [
                                                                  {
                                                                    "value": [
                                                                      "FHIR",
                                                                      ".",
                                                                      "Period"
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "value": [
                                                              ")"
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "value": [
                                                          "."
                                                        ]
                                                      },
                                                      {
                                                        "r": "36",
                                                        "s": [
                                                          {
                                                            "value": [
                                                              "\"start\""
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "37",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ",\r\n    "
                                                ]
                                              },
                                              {
                                                "r": "39",
                                                "s": [
                                                  {
                                                    "r": "38",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "issued"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "value": [
                                                      "."
                                                    ]
                                                  },
                                                  {
                                                    "r": "39",
                                                    "s": [
                                                      {
                                                        "value": [
                                                          "value"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "value": [
                                                  ")"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "\r\n  )"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "44",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "type": "Last",
                "source": {
                  "localId": "43",
                  "type": "Query",
                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",
                    "elementType": {
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  "source": [
                    {
                      "localId": "19",
                      "alias": "O",
                      "resultTypeSpecifier": {
                        "type": "ListTypeSpecifier",
                        "elementType": {
                          "name": "{http://hl7.org/fhir}Observation",
                          "type": "NamedTypeSpecifier"
                        }
                      },
                      "expression": {
                        "localId": "18",
                        "name": "ObsList",
                        "type": "OperandRef",
                        "resultTypeSpecifier": {
                          "type": "ListTypeSpecifier",
                          "elementType": {
                            "name": "{http://hl7.org/fhir}Observation",
                            "type": "NamedTypeSpecifier"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "sort": {
                    "localId": "42",
                    "by": [
                      {
                        "localId": "41",
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                        "direction": "asc",
                        "type": "ByExpression",
                        "expression": {
                          "localId": "40",
                          "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "Coalesce",
                          "operand": [
                            {
                              "localId": "23",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "22",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "20",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "21",
                                  "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                  "name": "{http://hl7.org/fhir}dateTime",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "27",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "26",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "strict": false,
                                "type": "As",
                                "operand": {
                                  "localId": "24",
                                  "name": "effective",
                                  "type": "IdentifierRef",
                                  "resultTypeSpecifier": {
                                    "type": "ChoiceTypeSpecifier",
                                    "choice": [
                                      {
                                        "name": "{http://hl7.org/fhir}dateTime",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Period",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}Timing",
                                        "type": "NamedTypeSpecifier"
                                      },
                                      {
                                        "name": "{http://hl7.org/fhir}instant",
                                        "type": "NamedTypeSpecifier"
                                      }
                                    ]
                                  }
                                },
                                "asTypeSpecifier": {
                                  "localId": "25",
                                  "resultTypeName": "{http://hl7.org/fhir}instant",
                                  "name": "{http://hl7.org/fhir}instant",
                                  "type": "NamedTypeSpecifier"
                                }
                              }
                            },
                            {
                              "localId": "32",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "31",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "end",
                                "type": "Property",
                                "source": {
                                  "localId": "30",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "28",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "29",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "37",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "36",
                                "resultTypeName": "{http://hl7.org/fhir}dateTime",
                                "path": "start",
                                "type": "Property",
                                "source": {
                                  "localId": "35",
                                  "resultTypeName": "{http://hl7.org/fhir}Period",
                                  "strict": false,
                                  "type": "As",
                                  "operand": {
                                    "localId": "33",
                                    "name": "effective",
                                    "type": "IdentifierRef",
                                    "resultTypeSpecifier": {
                                      "type": "ChoiceTypeSpecifier",
                                      "choice": [
                                        {
                                          "name": "{http://hl7.org/fhir}dateTime",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Period",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}Timing",
                                          "type": "NamedTypeSpecifier"
                                        },
                                        {
                                          "name": "{http://hl7.org/fhir}instant",
                                          "type": "NamedTypeSpecifier"
                                        }
                                      ]
                                    }
                                  },
                                  "asTypeSpecifier": {
                                    "localId": "34",
                                    "resultTypeName": "{http://hl7.org/fhir}Period",
                                    "name": "{http://hl7.org/fhir}Period",
                                    "type": "NamedTypeSpecifier"
                                  }
                                }
                              }
                            },
                            {
                              "localId": "39",
                              "resultTypeName": "{urn:hl7-org:elm-types:r1}DateTime",
                              "path": "value",
                              "type": "Property",
                              "source": {
                                "localId": "38",
                                "resultTypeName": "{http://hl7.org/fhir}instant",
                                "name": "issued",
                                "type": "IdentifierRef"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              },
              "operand": [
                {
                  "name": "ObsList",
                  "operandTypeSpecifier": {
                    "localId": "17",
                    "type": "ListTypeSpecifier",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "elementType": {
                      "localId": "16",
                      "resultTypeName": "{http://hl7.org/fhir}Observation",
                      "name": "{http://hl7.org/fhir}Observation",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                }
              ]
            },
            {
              "localId": "47",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "ER Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "47",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "46",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "15",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85337-4 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "46",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "15",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85337-4 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "50",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "HER2 Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "50",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "49",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "48",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 [Presence] in Breast cancer specimen by Immune stain code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "49",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "48",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "HER2 [Presence] in Breast cancer specimen by Immune stain code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "53",
              "resultTypeName": "{http://hl7.org/fhir}Observation",
              "name": "PR Status",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "53",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Status\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "52",
                        "s": [
                          {
                            "value": [
                              "MostRecent",
                              "("
                            ]
                          },
                          {
                            "r": "51",
                            "s": [
                              {
                                "value": [
                                  "[",
                                  "Observation",
                                  ": "
                                ]
                              },
                              {
                                "s": [
                                  {
                                    "value": [
                                      "\"85339-0 code\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "]"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              ")"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "52",
                "resultTypeName": "{http://hl7.org/fhir}Observation",
                "name": "MostRecent",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "51",
                    "dataType": "{http://hl7.org/fhir}Observation",
                    "templateId": "http://hl7.org/fhir/StructureDefinition/Observation",
                    "codeProperty": "code",
                    "type": "Retrieve",
                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",
                      "elementType": {
                        "name": "{http://hl7.org/fhir}Observation",
                        "type": "NamedTypeSpecifier"
                      }
                    },
                    "codes": {
                      "type": "ToList",
                      "operand": {
                        "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                        "name": "85339-0 code",
                        "type": "CodeRef"
                      }
                    }
                  }
                ]
              }
            },
            {
              "localId": "62",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
              "name": "ConceptValue",
              "context": "Patient",
              "accessLevel": "Public",
              "type": "FunctionDef",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "62",
                    "s": [
                      {
                        "value": [
                          "define function ",
                          "ConceptValue",
                          "(",
                          "Obs",
                          " "
                        ]
                      },
                      {
                        "r": "55",
                        "s": [
                          {
                            "value": [
                              "Observation"
                            ]
                          }
                        ]
                      },
                      {
                        "value": [
                          "):\r\n  "
                        ]
                      },
                      {
                        "r": "61",
                        "s": [
                          {
                            "r": "61",
                            "s": [
                              {
                                "r": "56",
                                "s": [
                                  {
                                    "value": [
                                      "FHIRHelpers"
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  "."
                                ]
                              },
                              {
                                "r": "61",
                                "s": [
                                  {
                                    "value": [
                                      "ToConcept",
                                      "("
                                    ]
                                  },
                                  {
                                    "r": "60",
                                    "s": [
                                      {
                                        "r": "58",
                                        "s": [
                                          {
                                            "r": "57",
                                            "s": [
                                              {
                                                "value": [
                                                  "Obs"
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "value": [
                                              "."
                                            ]
                                          },
                                          {
                                            "r": "58",
                                            "s": [
                                              {
                                                "value": [
                                                  "value"
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "value": [
                                          " as "
                                        ]
                                      },
                                      {
                                        "r": "59",
                                        "s": [
                                          {
                                            "value": [
                                              "FHIR",
                                              ".",
                                              "CodeableConcept"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "value": [
                                      ")"
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "61",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                "name": "ToConcept",
                "libraryName": "FHIRHelpers",
                "type": "FunctionRef",
                "operand": [
                  {
                    "localId": "60",
                    "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                    "strict": false,
                    "type": "As",
                    "operand": {
                      "localId": "58",
                      "path": "value",
                      "type": "Property",
                      "resultTypeSpecifier": {
                        "type": "ChoiceTypeSpecifier",
                        "choice": [
                          {
                            "name": "{http://hl7.org/fhir}Quantity",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}CodeableConcept",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}string",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}boolean",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}integer",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Range",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Ratio",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}SampledData",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}time",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}dateTime",
                            "type": "NamedTypeSpecifier"
                          },
                          {
                            "name": "{http://hl7.org/fhir}Period",
                            "type": "NamedTypeSpecifier"
                          }
                        ]
                      },
                      "source": {
                        "localId": "57",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "Obs",
                        "type": "OperandRef"
                      }
                    },
                    "asTypeSpecifier": {
                      "localId": "59",
                      "resultTypeName": "{http://hl7.org/fhir}CodeableConcept",
                      "name": "{http://hl7.org/fhir}CodeableConcept",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              "operand": [
                {
                  "name": "Obs",
                  "operandTypeSpecifier": {
                    "localId": "55",
                    "resultTypeName": "{http://hl7.org/fhir}Observation",
                    "name": "{http://hl7.org/fhir}Observation",
                    "type": "NamedTypeSpecifier"
                  }
                }
              ]
            },
            {
              "localId": "66",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "66",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "65",
                        "s": [
                          {
                            "r": "63",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "54",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "64",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "65",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "63",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "54",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "64",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "71",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "ER Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "71",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"ER Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "70",
                        "s": [
                          {
                            "r": "68",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "67",
                                "s": [
                                  {
                                    "value": [
                                      "\"ER Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "69",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "70",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "68",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "67",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "ER Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "69",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "76",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "76",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "75",
                        "s": [
                          {
                            "r": "73",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "72",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "74",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "75",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "73",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "72",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "74",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "81",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "HER2 Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "81",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"HER2 Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "80",
                        "s": [
                          {
                            "r": "78",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "77",
                                "s": [
                                  {
                                    "value": [
                                      "\"HER2 Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "79",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "80",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "78",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "77",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "HER2 Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "79",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "86",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Positive",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "86",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Positive\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "85",
                        "s": [
                          {
                            "r": "83",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "82",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "84",
                            "s": [
                              {
                                "value": [
                                  "\"Positive (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "85",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "83",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "82",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "84",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Positive (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "91",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
              "name": "PR Negative",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "91",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"PR Negative\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "90",
                        "s": [
                          {
                            "r": "88",
                            "s": [
                              {
                                "value": [
                                  "ConceptValue",
                                  "("
                                ]
                              },
                              {
                                "r": "87",
                                "s": [
                                  {
                                    "value": [
                                      "\"PR Status\""
                                    ]
                                  }
                                ]
                              },
                              {
                                "value": [
                                  ")"
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " ",
                              "~",
                              " "
                            ]
                          },
                          {
                            "r": "89",
                            "s": [
                              {
                                "value": [
                                  "\"Negative (qualifier value) code\""
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "90",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",
                "type": "Equivalent",
                "operand": [
                  {
                    "localId": "88",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Concept",
                    "name": "ConceptValue",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "87",
                        "resultTypeName": "{http://hl7.org/fhir}Observation",
                        "name": "PR Status",
                        "type": "ExpressionRef"
                      }
                    ]
                  },
                  {
                    "type": "ToConcept",
                    "operand": {
                      "localId": "89",
                      "resultTypeName": "{urn:hl7-org:elm-types:r1}Code",
                      "name": "Negative (qualifier value) code",
                      "type": "CodeRef"
                    }
                  }
                ]
              }
            },
            {
              "localId": "93",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "InPopulation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "93",
                    "s": [
                      {
                        "r": "92",
                        "value": [
                          "define ",
                          "\"InPopulation\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "92",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            },
            {
              "localId": "98",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
              "name": "Recommendation",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "98",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Recommendation\"",
                          ": \r\n  "
                        ]
                      },
                      {
                        "r": "97",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "94",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "value": [
                              " then "
                            ]
                          },
                          {
                            "r": "95",
                            "s": [
                              {
                                "value": [
                                  "''"
                                ]
                              }
                            ]
                          },
                          {
                            "r": "96",
                            "value": [
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "97",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "94",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "95",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}String",
                  "valueType": "{urn:hl7-org:elm-types:r1}String",
                  "value": "",
                  "type": "Literal"
                },
                "else": {
                  "asType": "{urn:hl7-org:elm-types:r1}String",
                  "type": "As",
                  "operand": {
                    "localId": "96",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "type": "Null"
                  }
                }
              }
            },
            {
              "localId": "103",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Rationale",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "103",
                    "s": [
                      {
                        "value": [
                          "define ",
                          "\"Rationale\"",
                          ":\r\n  "
                        ]
                      },
                      {
                        "r": "102",
                        "s": [
                          {
                            "value": [
                              "if "
                            ]
                          },
                          {
                            "r": "99",
                            "s": [
                              {
                                "value": [
                                  "\"InPopulation\""
                                ]
                              }
                            ]
                          },
                          {
                            "r": "100",
                            "value": [
                              " then ",
                              "null",
                              "\r\n  else ",
                              "null"
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "102",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "If",
                "condition": {
                  "asType": "{urn:hl7-org:elm-types:r1}Boolean",
                  "type": "As",
                  "operand": {
                    "localId": "99",
                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                    "name": "InPopulation",
                    "type": "ExpressionRef"
                  }
                },
                "then": {
                  "localId": "100",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                },
                "else": {
                  "localId": "101",
                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                  "type": "Null"
                }
              }
            },
            {
              "localId": "105",
              "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
              "name": "Errors",
              "context": "Patient",
              "accessLevel": "Public",
              "annotation": [
                {
                  "type": "Annotation",
                  "s": {
                    "r": "105",
                    "s": [
                      {
                        "r": "104",
                        "value": [
                          "define ",
                          "\"Errors\"",
                          ":\r\n  ",
                          "null"
                        ]
                      }
                    ]
                  }
                }
              ],
              "expression": {
                "localId": "104",
                "resultTypeName": "{urn:hl7-org:elm-types:r1}Any",
                "type": "Null"
              }
            }
          ]
        }
      }
    },
    "cql": "library \"Tumor_Markers\" version '1.0.0'\r\n\r\nusing FHIR version '4.0.1'\r\n\r\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers \r\n\r\ncodesystem \"LOINC\": 'http://loinc.org' \r\ncodesystem \"SNOMED\": 'http://snomed.info/sct' \r\n\r\n\r\ncode \"85337-4 code\": '85337-4' from \"LOINC\"\r\n  display 'Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"HER2 [Presence] in Breast cancer specimen by Immune stain code\": '85319-2' from \"LOINC\"\r\n  display 'HER2 [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"85339-0 code\": '85339-0' from \"LOINC\"\r\n  display 'Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain'\r\n\r\ncode \"Positive (qualifier value) code\": '10828004' from \"SNOMED\"\r\n  display 'Positive (qualifier value)'\r\n\r\ncode \"Negative (qualifier value) code\": '260385009' from \"SNOMED\"\r\n  display 'Negative (qualifier value)'\r\n\r\n\r\n\r\ncontext Patient\r\n\r\ndefine \"ER Status\":\r\n  MostRecent([Observation: \"85337-4 code\"])\r\n\r\ndefine \"HER2 Status\":\r\n  MostRecent([Observation: \"HER2 [Presence] in Breast cancer specimen by Immune stain code\"])\r\n\r\ndefine \"PR Status\":\r\n  MostRecent([Observation: \"85339-0 code\"])\r\n\r\ndefine \"ER Positive\":\r\n  ConceptValue(\"ER Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"ER Negative\":\r\n  ConceptValue(\"ER Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"HER2 Positive\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"HER2 Negative\":\r\n  ConceptValue(\"HER2 Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"PR Positive\":\r\n  ConceptValue(\"PR Status\") ~ \"Positive (qualifier value) code\"\r\n\r\ndefine \"PR Negative\":\r\n  ConceptValue(\"PR Status\") ~ \"Negative (qualifier value) code\"\r\n\r\ndefine \"InPopulation\":\r\n  null\r\n\r\ndefine \"Recommendation\": \r\n  if \"InPopulation\" then ''\r\n  else null\r\n\r\ndefine \"Rationale\":\r\n  if \"InPopulation\" then null\r\n  else null\r\n\r\ndefine \"Errors\":\r\n  null\r\n\r\n/* Below migrated from to make this file self-contained */\r\n\r\n/**\r\n * Extracts the CodeableConcept value from an Observation, returning it as a CQL Concept\r\n * @param Obs - an observation\r\n * @returns {System.Concept} the Observation's value as a concept, or null if there is no CodeabeConcept value\r\n */\r\ndefine function ConceptValue(Obs Observation):\r\n  FHIRHelpers.ToConcept(Obs.value as FHIR.CodeableConcept)\r\n\r\n\r\n/**\r\n * The most recent observation.  For each Observation, this algorithm will use the Coalesce function, which uses the\r\n * first non-null date value from these fields: effectiveDateTime, effectiveInstant, effectivePeriod.end,\r\n * effectivePeriod.start, issued. The found date will be used to compare Observations and determine the most recent\r\n * one.  NOTE: We can't use FindDate because it appears that the execution engine may have problems sorting by the\r\n * result of a function.\r\n * @param ObsList - a list of Observations\r\n * @returns {Observation} the most recent Observation from the list, or null if null was passed in\r\n */\r\ndefine function MostRecent(ObsList List<Observation>):\r\n  Last(ObsList O sort by Coalesce(\r\n    (effective as FHIR.dateTime).value,\r\n    (effective as FHIR.instant).value,\r\n    (effective as FHIR.Period).\"end\".value,\r\n    (effective as FHIR.Period).\"start\".value,\r\n    issued.value)\r\n  )\r\n",
    "statement": "PR Negative",
    "cqlLibraries": {
      "FHIRHelpers": {
        "cql": "library FHIRHelpers version '4.0.1'\n\nusing FHIR version '4.0.1'\n\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]\n\ndefine function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end\n\ndefine function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToQuantityIgnoringComparator(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end\n\ndefine function ToInterval(quantity FHIR.Quantity):\n    if quantity is null then null else\n        case quantity.comparator.value\n            when '<' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                )\n            when '<=' then\n                Interval[\n                    null,\n                    ToQuantityIgnoringComparator(quantity)\n                ]\n            when '>=' then\n                Interval[\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            when '>' then\n                Interval(\n                    ToQuantityIgnoringComparator(quantity),\n                    null\n                ]\n            else\n                Interval[ToQuantity(quantity), ToQuantity(quantity)]\n        end\n\ndefine function ToRatio(ratio FHIR.Ratio):\n    if ratio is null then\n        null\n    else\n        System.Ratio { numerator: ToQuantity(ratio.numerator), denominator: ToQuantity(ratio.denominator) }\n\ndefine function ToInterval(range FHIR.Range):\n    if range is null then\n        null\n    else\n        Interval[ToQuantity(range.low), ToQuantity(range.high)]\n\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }\n\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }\n\ndefine function ToString(value FHIR.uuid): value.value\ndefine function ToString(value FHIR.TestScriptRequestMethodCode): value.value\ndefine function ToString(value FHIR.SortDirection): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStatus): value.value\ndefine function ToString(value FHIR.UnitsOfTime): value.value\ndefine function ToString(value FHIR.AddressType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCategory): value.value\ndefine function ToString(value FHIR.IssueSeverity): value.value\ndefine function ToString(value FHIR.CareTeamStatus): value.value\ndefine function ToString(value FHIR.EncounterStatus): value.value\ndefine function ToString(value FHIR.StructureDefinitionKind): value.value\ndefine function ToString(value FHIR.PublicationStatus): value.value\ndefine function ToString(value FHIR.FHIRVersion): value.value\ndefine function ToString(value FHIR.CarePlanActivityKind): value.value\ndefine function ToString(value FHIR.StructureMapSourceListMode): value.value\ndefine function ToString(value FHIR.RequestStatus): value.value\ndefine function ToString(value FHIR.strandType): value.value\ndefine function ToString(value FHIR.QuestionnaireResponseStatus): value.value\ndefine function ToString(value FHIR.SearchComparator): value.value\ndefine function ToString(value FHIR.ChargeItemStatus): value.value\ndefine function ToString(value FHIR.ActionParticipantType): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceType): value.value\ndefine function ToString(value FHIR.CarePlanActivityStatus): value.value\ndefine function ToString(value FHIR.InvoiceStatus): value.value\ndefine function ToString(value FHIR.ClaimProcessingCodes): value.value\ndefine function ToString(value FHIR.RequestResourceType): value.value\ndefine function ToString(value FHIR.ParticipationStatus): value.value\ndefine function ToString(value FHIR.DeviceNameType): value.value\ndefine function ToString(value FHIR.DocumentMode): value.value\ndefine function ToString(value FHIR.AssertionOperatorType): value.value\ndefine function ToString(value FHIR.DaysOfWeek): value.value\ndefine function ToString(value FHIR.IssueType): value.value\ndefine function ToString(value FHIR.canonical): value.value\ndefine function ToString(value FHIR.StructureMapContextType): value.value\ndefine function ToString(value FHIR.FamilyHistoryStatus): value.value\ndefine function ToString(value FHIR.status): value.value\ndefine function ToString(value FHIR.ExtensionContextType): value.value\ndefine function ToString(value FHIR.AssertionResponseTypes): value.value\ndefine function ToString(value FHIR.RequestIntent): value.value\ndefine function ToString(value FHIR.string): value.value\ndefine function ToString(value FHIR.ActionRequiredBehavior): value.value\ndefine function ToString(value FHIR.GraphCompartmentUse): value.value\ndefine function ToString(value FHIR.orientationType): value.value\ndefine function ToString(value FHIR.AccountStatus): value.value\ndefine function ToString(value FHIR.IdentifierUse): value.value\ndefine function ToString(value FHIR.StructureMapTargetListMode): value.value\ndefine function ToString(value FHIR.ExposureState): value.value\ndefine function ToString(value FHIR.TestReportParticipantType): value.value\ndefine function ToString(value FHIR.BindingStrength): value.value\ndefine function ToString(value FHIR.RequestPriority): value.value\ndefine function ToString(value FHIR.ParticipantRequired): value.value\ndefine function ToString(value FHIR.XPathUsageType): value.value\ndefine function ToString(value FHIR.id): value.value\ndefine function ToString(value FHIR.FilterOperator): value.value\ndefine function ToString(value FHIR.NamingSystemType): value.value\ndefine function ToString(value FHIR.ContractResourceStatusCodes): value.value\ndefine function ToString(value FHIR.ResearchSubjectStatus): value.value\ndefine function ToString(value FHIR.StructureMapTransform): value.value\ndefine function ToString(value FHIR.ResponseType): value.value\ndefine function ToDecimal(value FHIR.decimal): value.value\ndefine function ToString(value FHIR.AggregationMode): value.value\ndefine function ToString(value FHIR.sequenceType): value.value\ndefine function ToString(value FHIR.SystemRestfulInteraction): value.value\ndefine function ToString(value FHIR.AdverseEventActuality): value.value\ndefine function ToString(value FHIR.SubscriptionChannelType): value.value\ndefine function ToString(value FHIR.AssertionDirectionType): value.value\ndefine function ToString(value FHIR.CarePlanIntent): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceCriticality): value.value\ndefine function ToString(value FHIR.PropertyRepresentation): value.value\ndefine function ToString(value FHIR.TriggerType): value.value\ndefine function ToString(value FHIR.CompositionStatus): value.value\ndefine function ToString(value FHIR.AppointmentStatus): value.value\ndefine function ToString(value FHIR.MessageSignificanceCategory): value.value\ndefine function ToString(value FHIR.ListMode): value.value\ndefine function ToString(value FHIR.ResearchElementType): value.value\ndefine function ToString(value FHIR.ObservationStatus): value.value\ndefine function ToString(value FHIR.ResourceType): value.value\ndefine function ToBoolean(value FHIR.boolean): value.value\ndefine function ToString(value FHIR.StructureMapGroupTypeMode): value.value\ndefine function ToString(value FHIR.SupplyRequestStatus): value.value\ndefine function ToString(value FHIR.EncounterLocationStatus): value.value\ndefine function ToString(value FHIR.ConditionalDeleteStatus): value.value\ndefine function ToString(value FHIR.url): value.value\ndefine function ToString(value FHIR.uri): value.value\ndefine function ToString(value FHIR.Use): value.value\ndefine function ToString(value FHIR.MedicationRequestStatus): value.value\ndefine function ToString(value FHIR.IdentityAssuranceLevel): value.value\ndefine function ToString(value FHIR.DeviceMetricColor): value.value\ndefine function ToTime(value FHIR.time): value.value\ndefine function ToString(value FHIR.ConditionalReadStatus): value.value\ndefine function ToString(value FHIR.AllergyIntoleranceSeverity): value.value\ndefine function ToString(value FHIR.FinancialResourceStatusCodes): value.value\ndefine function ToString(value FHIR.OperationKind): value.value\ndefine function ToString(value FHIR.SubscriptionStatus): value.value\ndefine function ToString(value FHIR.GoalLifecycleStatus): value.value\ndefine function ToString(value FHIR.ObservationDataType): value.value\ndefine function ToString(value FHIR.DocumentReferenceStatus): value.value\ndefine function ToString(value FHIR.repositoryType): value.value\ndefine function ToString(value FHIR.LocationStatus): value.value\ndefine function ToString(value FHIR.NoteType): value.value\ndefine function ToString(value FHIR.TestReportStatus): value.value\ndefine function ToString(value FHIR.CodeSystemContentMode): value.value\ndefine function ToString(value FHIR.FHIRDeviceStatus): value.value\ndefine function ToString(value FHIR.ContactPointSystem): value.value\ndefine function ToString(value FHIR.SlotStatus): value.value\ndefine function ToString(value FHIR.PropertyType): value.value\ndefine function ToString(value FHIR.TypeDerivationRule): value.value\ndefine function ToString(value FHIR.GuidanceResponseStatus): value.value\ndefine function ToString(value FHIR.RelatedArtifactType): value.value\ndefine function ToString(value FHIR.oid): value.value\ndefine function ToString(value FHIR.CompartmentType): value.value\ndefine function ToString(value FHIR.MedicationRequestIntent): value.value\ndefine function ToString(value FHIR.InvoicePriceComponentType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationState): value.value\ndefine function ToString(value FHIR.GroupType): value.value\ndefine function ToString(value FHIR.EnableWhenBehavior): value.value\ndefine function ToString(value FHIR.TaskIntent): value.value\ndefine function ToString(value FHIR.ImmunizationEvaluationStatusCodes): value.value\ndefine function ToString(value FHIR.ExampleScenarioActorType): value.value\ndefine function ToString(value FHIR.ProvenanceEntityRole): value.value\ndefine function ToString(value FHIR.SpecimenStatus): value.value\ndefine function ToString(value FHIR.RestfulCapabilityMode): value.value\ndefine function ToString(value FHIR.DetectedIssueSeverity): value.value\ndefine function ToString(value FHIR.VisionEyes): value.value\ndefine function ToString(value FHIR.ConsentDataMeaning): value.value\ndefine function ToString(value FHIR.messageheaderResponseRequest): value.value\ndefine function ToString(value FHIR.GuidePageGeneration): value.value\ndefine function ToString(value FHIR.DocumentRelationshipType): value.value\ndefine function ToString(value FHIR.VariableType): value.value\ndefine function ToString(value FHIR.TestReportResult): value.value\ndefine function ToString(value FHIR.ConceptMapGroupUnmappedMode): value.value\ndefine function ToDateTime(value FHIR.instant): value.value\ndefine function ToDateTime(value FHIR.dateTime): value.value\ndefine function ToDate(value FHIR.date): value.value\ndefine function ToInteger(value FHIR.positiveInt): value.value\ndefine function ToString(value FHIR.ClinicalImpressionStatus): value.value\ndefine function ToString(value FHIR.EligibilityResponsePurpose): value.value\ndefine function ToString(value FHIR.NarrativeStatus): value.value\ndefine function ToString(value FHIR.ImagingStudyStatus): value.value\ndefine function ToString(value FHIR.EndpointStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductCategory): value.value\ndefine function ToString(value FHIR.ResourceVersionPolicy): value.value\ndefine function ToString(value FHIR.ActionCardinalityBehavior): value.value\ndefine function ToString(value FHIR.GroupMeasure): value.value\ndefine function ToString(value FHIR.NamingSystemIdentifierType): value.value\ndefine function ToString(value FHIR.ImmunizationStatusCodes): value.value\ndefine function ToString(value FHIR.MedicationStatusCodes): value.value\ndefine function ToString(value FHIR.DiscriminatorType): value.value\ndefine function ToString(value FHIR.StructureMapInputMode): value.value\ndefine function ToString(value FHIR.LinkageType): value.value\ndefine function ToString(value FHIR.ReferenceHandlingPolicy): value.value\ndefine function ToString(value FHIR.ResearchStudyStatus): value.value\ndefine function ToString(value FHIR.AuditEventOutcome): value.value\ndefine function ToString(value FHIR.SpecimenContainedPreference): value.value\ndefine function ToString(value FHIR.ActionRelationshipType): value.value\ndefine function ToString(value FHIR.ConstraintSeverity): value.value\ndefine function ToString(value FHIR.EventCapabilityMode): value.value\ndefine function ToString(value FHIR.CodeSearchSupport): value.value\ndefine function ToString(value FHIR.ObservationRangeCategory): value.value\ndefine function ToString(value FHIR.UDIEntryType): value.value\ndefine function ToString(value FHIR.DeviceMetricCategory): value.value\ndefine function ToString(value FHIR.TestReportActionResult): value.value\ndefine function ToString(value FHIR.CapabilityStatementKind): value.value\ndefine function ToString(value FHIR.EventTiming): value.value\ndefine function ToString(value FHIR.SearchParamType): value.value\ndefine function ToString(value FHIR.ActionGroupingBehavior): value.value\ndefine function ToString(value FHIR.StructureMapModelMode): value.value\ndefine function ToString(value FHIR.TaskStatus): value.value\ndefine function ToString(value FHIR.BiologicallyDerivedProductStorageScale): value.value\ndefine function ToString(value FHIR.GraphCompartmentRule): value.value\ndefine function ToString(value FHIR.SlicingRules): value.value\ndefine function ToString(value FHIR.ExplanationOfBenefitStatus): value.value\ndefine function ToString(value FHIR.GuideParameterCode): value.value\ndefine function ToString(value FHIR.CatalogEntryRelationType): value.value\ndefine function ToString(value FHIR.LinkType): value.value\ndefine function ToString(value FHIR.ConceptMapEquivalence): value.value\ndefine function ToString(value FHIR.AuditEventAction): value.value\ndefine function ToString(value FHIR.SearchModifierCode): value.value\ndefine function ToString(value FHIR.EventStatus): value.value\ndefine function ToString(value FHIR.OperationParameterUse): value.value\ndefine function ToString(value FHIR.ConsentProvisionType): value.value\ndefine function ToString(value FHIR.ActionConditionKind): value.value\ndefine function ToString(value FHIR.qualityType): value.value\ndefine function ToString(value FHIR.AdministrativeGender): value.value\ndefine function ToString(value FHIR.QuestionnaireItemType): value.value\ndefine function ToString(value FHIR.DeviceMetricCalibrationType): value.value\ndefine function ToString(value FHIR.EvidenceVariableType): value.value\ndefine function ToString(value FHIR.code): value.value\ndefine function ToString(value FHIR.ActionSelectionBehavior): value.value\ndefine function ToString(value FHIR.SupplyDeliveryStatus): value.value\ndefine function ToString(value FHIR.DiagnosticReportStatus): value.value\ndefine function ToString(value FHIR.FlagStatus): value.value\ndefine function ToString(value FHIR.SPDXLicense): value.value\ndefine function ToString(value FHIR.ListStatus): value.value\ndefine function ToString(value FHIR.base64Binary): value.value\ndefine function ToString(value FHIR.DeviceUseStatementStatus): value.value\ndefine function ToString(value FHIR.AuditEventAgentNetworkType): value.value\ndefine function ToString(value FHIR.ExpressionLanguage): value.value\ndefine function ToString(value FHIR.AddressUse): value.value\ndefine function ToString(value FHIR.ContactPointUse): value.value\ndefine function ToString(value FHIR.DeviceMetricOperationalStatus): value.value\ndefine function ToString(value FHIR.ContributorType): value.value\ndefine function ToString(value FHIR.ReferenceVersionRules): value.value\ndefine function ToString(value FHIR.MeasureReportStatus): value.value\ndefine function ToString(value FHIR.SearchEntryMode): value.value\ndefine function ToInteger(value FHIR.unsignedInt): value.value\ndefine function ToString(value FHIR.NameUse): value.value\ndefine function ToString(value FHIR.LocationMode): value.value\ndefine function ToInteger(value FHIR.integer): value.value\ndefine function ToString(value FHIR.FHIRSubstanceStatus): value.value\ndefine function ToString(value FHIR.QuestionnaireItemOperator): value.value\ndefine function ToString(value FHIR.HTTPVerb): value.value\ndefine function ToString(value FHIR.EpisodeOfCareStatus): value.value\ndefine function ToString(value FHIR.RemittanceOutcome): value.value\ndefine function ToString(value FHIR.markdown): value.value\ndefine function ToString(value FHIR.EligibilityRequestPurpose): value.value\ndefine function ToString(value FHIR.QuantityComparator): value.value\ndefine function ToString(value FHIR.MeasureReportType): value.value\ndefine function ToString(value FHIR.ActionPrecheckBehavior): value.value\ndefine function ToString(value FHIR.SampledDataDataType): value.value\ndefine function ToString(value FHIR.CompositionAttestationMode): value.value\ndefine function ToString(value FHIR.TypeRestfulInteraction): value.value\ndefine function ToString(value FHIR.CodeSystemHierarchyMeaning): value.value\ndefine function ToString(value FHIR.vConfidentialityClassification): value.value\ndefine function ToString(value FHIR.ContractResourcePublicationStatusCodes): value.value\ndefine function ToString(value FHIR.VisionBase): value.value\ndefine function ToString(value FHIR.BundleType): value.value\n",
        "version": "4.0.1"
      },
      "Pathologic_Response": {
        "cql": "library \"Pathologic_Response\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\n// CODESYSTEMS\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\ncodesystem \"LOINC\": 'http://loinc.org'\n\n// LOINC Observation Codes\ncode \"Pathologic response code\": '88040-1' from \"LOINC\" display 'Pathologic response code'\n\n// SNOMED Observation Values\ncode \"Complete (qualifier value) code\": '255594003' from \"SNOMEDCT\" display 'Complete (qualifier value)'\ncode \"Partial (qualifier value) code\": '255609007' from \"SNOMEDCT\" display 'Partial (qualifier value)'\ncode \"Stable (qualifier value) code\": '58158008' from \"SNOMEDCT\" display 'Stable (qualifier value)'\ncode \"Progressive (qualifier value) code\": '255314001' from \"SNOMEDCT\" display 'Progressive (qualifier value)'\n\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"Complete (qualifier value)\": {\"Complete (qualifier value) code\"} display 'Complete (qualifier value)'\nconcept \"Partial\": {\"Partial (qualifier value) code\"} display 'Partial (qualifier value)'\nconcept \"Stable\": {\"Stable (qualifier value) code\"} display 'Stable (qualifier value)'\nconcept \"Progressive\": {\"Progressive (qualifier value) code\"} display 'Progressive (qualifier value)'\n\ncontext Patient\n\ndefine \"Complete\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Complete (qualifier value)\"\n  )\n\ndefine \"Partial/Stable/Progressive\":\n  exists(\n    [Observation: \"Pathologic response code\"] Response\n      where FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Partial\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Stable\"\n        or FHIRHelpers.ToConcept(Response.value as FHIR.CodeableConcept) ~ \"Progressive\"\n  )\n",
        "version": "1.0.0"
      },
      "TNM": {
        "cql": "library \"TNM\" version '1.0.0'\n\nusing FHIR version '4.0.1'\n\ninclude \"FHIRHelpers\" version '4.0.1' called FHIRHelpers\n\ncodesystem \"LOINC\": 'http://loinc.org'\ncodesystem \"SNOMEDCT\": 'http://snomed.info/sct'\n\n// LOINC Observation Codes\ncode \"Primary tumor.clinical [Class] Cancer code\": '21905-5' from \"LOINC\" display 'Primary tumor.clinical [Class] Cancer'\ncode \"Regional lymph nodes.clinical [Class] Cancer code\": '21906-3' from \"LOINC\" display 'Regional lymph nodes.clinical [Class] Cancer'\n\n// SNOMED Observation Values\ncode \"T0 category (finding) code\": '58790005' from \"SNOMEDCT\" display 'T0 category (finding)'\ncode \"T1 category (finding) code\": '23351008' from \"SNOMEDCT\" display 'T1 category (finding)'\ncode \"T2 category (finding) code\": '67673008' from \"SNOMEDCT\" display 'T2 category (finding)'\ncode \"T3 category (finding) code\": '14410001' from \"SNOMEDCT\" display 'T3 category (finding)'\ncode \"T4 category (finding) code\": '65565005' from \"SNOMEDCT\" display 'T4 category (finding)'\ncode \"N0 category (finding) code\": '62455006' from \"SNOMEDCT\" display 'N0 category (finding)'\ncode \"N1 category (finding) code\": '53623008' from \"SNOMEDCT\" display 'N1 category (finding)'\ncode \"N2 category (finding) code\": '46059003' from \"SNOMEDCT\" display 'N2 category (finding)'\ncode \"N3 category (finding) code\": '5856006' from \"SNOMEDCT\" display 'N3 category (finding)'\n\n// FHIR CONCEPTS\n\n// Observations\nconcept \"T0 category (finding)\": {\"T0 category (finding) code\"} display 'T0 category (finding)'\nconcept \"T1 category (finding)\": {\"T1 category (finding) code\"} display 'T1 category (finding)'\nconcept \"T2 category (finding)\": {\"T2 category (finding) code\"} display 'T2 category (finding)'\nconcept \"T3 category (finding)\": {\"T3 category (finding) code\"} display 'T3 category (finding)'\nconcept \"T4 category (finding)\": {\"T4 category (finding) code\"} display 'T4 category (finding)'\nconcept \"N0 category (finding)\": {\"N0 category (finding) code\"} display 'N0 category (finding)'\nconcept \"N1 category (finding)\": {\"N1 category (finding) code\"} display 'N1 category (finding)'\nconcept \"N2 category (finding)\": {\"N2 category (finding) code\"} display 'N2 category (finding)'\nconcept \"N3 category (finding)\": {\"N3 category (finding) code\"} display 'N3 category (finding)'\n\ncontext Patient\n\ndefine \"N0\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] N0\n      where FHIRHelpers.ToConcept(N0.value as FHIR.CodeableConcept) ~ \"N0 category (finding)\"\n  )\n\ndefine \"N+\":\n  exists(\n    [Observation: \"Regional lymph nodes.clinical [Class] Cancer code\"] NLarge\n      where FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N1 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N2 category (finding)\"\n        or FHIRHelpers.ToConcept(NLarge.value as FHIR.CodeableConcept) ~ \"N3 category (finding)\"\n  )\n\ndefine \"T > 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n  )\n\ndefine \"T <= 2cm\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n  )\n\ndefine \"T > 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TLarge\n      where FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T3 category (finding)\"\n        or FHIRHelpers.ToConcept(TLarge.value as FHIR.CodeableConcept) ~ \"T4 category (finding)\"\n  )\n\ndefine \"T <= 2\":\n  exists(\n    [Observation: \"Primary tumor.clinical [Class] Cancer code\"] TSmall\n      where FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T0 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T1 category (finding)\"\n        or FHIRHelpers.ToConcept(TSmall.value as FHIR.CodeableConcept) ~ \"T2 category (finding)\"\n  )\n",
        "version": "1.0.0"
      }
    }
  }
];